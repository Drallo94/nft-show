!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var n=window.matchMedia("only screen and (max-width: 768px)").matches,i="animate--visible";new function e(){var s=this;t(this,e),o(this,"observeCallback",(function(t){t.map((function(t){var e=t.target,o=s.getDelay(e),r=e.getAttribute("animate-body-class");t.isIntersecting?n&&e.getAttribute("animate-delay-desktop")?(e.classList.add(i),s.bodyClass(r,"add")):setTimeout((function(){e.classList.add(i),s.bodyClass(r,"add")}),o):s.bodyClass(r,"remove")}))})),o(this,"getDelay",(function(t){var e=t.getAttribute("animate-delay");if(!n&&t.getAttribute("animate-delay-desktop"))e=t.getAttribute("animate-delay-desktop");return null===e?0:e.includes(".")?parseInt(1e3*e):parseInt(e)})),o(this,"bodyClass",(function(t,e){t&&("add"==e?document.body.classList.add(t):document.body.classList.remove(t))})),this.sections=document.querySelectorAll(".animate"),this.THRESHOLD="0.75",this.LOAD_THRESHOLD="0.2","IntersectionObserver"in window?this.sections.forEach((function(t){var e=t.getBoundingClientRect();e.height/window.innerHeight>.95&&(s.THRESHOLD=window.innerHeight/e.height/100*30,s.LOAD_THRESHOLD=window.innerHeight/e.height/100*20);var o=new IntersectionObserver(s.observeCallback,{threshold:s.LOAD_THRESHOLD});o.observe(t),setTimeout((function(){o.disconnect()}),100);var n=t.getAttribute("animate-threshold")?t.getAttribute("animate-threshold"):s.THRESHOLD;new IntersectionObserver(s.observeCallback,{threshold:n}).observe(t)})):this.sections.forEach((function(t){t.classList.add(i)}))};
/*!
   * Splide.js
   * Version  : 3.2.5
   * License  : MIT
   * Copyright: 2021 Naotoshi Fujita
   */
const s="splide",r="data-splide",a={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,DESTROYED:5};function c(t){t.length=0}function l(t){return!h(t)&&"object"==typeof t}function d(t){return Array.isArray(t)}function u(t){return"string"==typeof t}function f(t){return void 0===t}function h(t){return null===t}function p(t){return t instanceof HTMLElement}function m(t){return d(t)?t:[t]}function g(t,e){m(t).forEach(e)}function v(t,e){return t.indexOf(e)>-1}function C(t,e){return t.push(...m(e)),t}const y=Array.prototype;function b(t,e,o){return y.slice.call(t,e,o)}function w(t,e,o){t&&g(e,(e=>{e&&t.classList[o?"add":"remove"](e)}))}function S(t,e){w(t,u(e)?e.split(" "):e,!0)}function O(t,e){g(e,t.appendChild.bind(t))}function E(t,e){g(t,(t=>{const o=e.parentNode;o&&o.insertBefore(t,e)}))}function N(t,e){return(t.msMatchesSelector||t.matches).call(t,e)}function x(t,e){return t?b(t.children).filter((t=>N(t,e))):[]}function I(t,e){return e?x(t,e)[0]:t.firstElementChild}function T(t,e,o){if(t){let n=Object.keys(t);n=o?n.reverse():n;for(let o=0;o<n.length;o++){const i=n[o];if("__proto__"!==i&&!1===e(t[i],i))break}}return t}function P(t){return b(arguments,1).forEach((e=>{T(e,((o,n)=>{t[n]=e[n]}))})),t}function L(t,e){return T(e,((e,o)=>{d(e)?t[o]=e.slice():l(e)?t[o]=L(l(t[o])?t[o]:{},e):t[o]=e})),t}function k(t,e){t&&g(e,(e=>{t.removeAttribute(e)}))}function Y(t,e,o){l(e)?T(e,((e,o)=>{Y(t,o,e)})):h(o)?k(t,e):t.setAttribute(e,String(o))}function D(t,e,o){const n=document.createElement(t);return e&&(u(e)?S(n,e):Y(n,e)),o&&O(o,n),n}function _(t,e,o){if(f(o))return getComputedStyle(t)[e];if(!h(o)){const{style:n}=t;o=`${o}`,n[e]!==o&&(n[e]=o)}}function A(t,e){_(t,"display",e)}function X(t,e){return t.getAttribute(e)}function H(t,e){return t&&t.classList.contains(e)}function M(t){return t.getBoundingClientRect()}function W(t){g(t,(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}))}function R(t){return I((new DOMParser).parseFromString(t,"text/html").body)}function z(t,e){t.preventDefault(),e&&(t.stopPropagation(),t.stopImmediatePropagation())}function F(t,e){return t&&t.querySelector(e)}function B(t,e){return b(t.querySelectorAll(e))}function $(t,e){w(t,e,!1)}function q(t){return u(t)?t:t?`${t}px`:""}function j(t,e=""){if(!t)throw new Error(`[splide] ${e}`)}function V(t){setTimeout(t)}const Z=()=>{};function U(t){return requestAnimationFrame(t)}const{min:G,max:K,floor:Q,ceil:J,abs:tt}=Math;function et(t,e,o,n){const i=G(e,o),s=K(e,o);return n?i<t&&t<s:i<=t&&t<=s}function ot(t,e,o){const n=G(e,o),i=K(e,o);return G(K(n,t),i)}function nt(t){return+(t>0)-+(t<0)}function it(t,e){return g(e,(e=>{t=t.replace("%s",`${e}`)})),t}function st(t){return t<10?`0${t}`:`${t}`}const rt={};const at="mounted",ct="ready",lt="move",dt="moved",ut="click",ft="slide:keydown",ht="refresh",pt="updated",mt="resize",gt="resized",vt="repositioned",Ct="scroll",yt="scrolled",bt="destroy",wt="navigation:mounted",St="lazyload:loaded";function Ot(t){const{event:e}=t,o={};let n=[];function i(t,e,o){s(t,e,((t,e)=>{n=n.filter((n=>!!(n[0]!==t||n[1]!==e||o&&n[2]!==o)||(t.removeEventListener(e,n[2],n[3]),!1)))}))}function s(t,e,o){g(t,(t=>{t&&e.split(" ").forEach(o.bind(null,t))}))}function r(){n=n.filter((t=>i(t[0],t[1]))),e.offBy(o)}return e.on(bt,r,o),{on:function(t,n,i){e.on(t,n,o,i)},off:function(t){e.off(t,o)},emit:e.emit,bind:function(t,e,o,i){s(t,e,((t,e)=>{n.push([t,e,o,i]),t.addEventListener(e,o,i)}))},unbind:i,destroy:r}}function Et(t,e,o,n){const{now:i}=Date;let s,r,a=0,c=!0,l=0;function d(){if(!c){const r=i()-s;if(r>=t?(a=1,s=i()):a=r/t,o&&o(a),1===a&&(e(),n&&++l>=n))return u();U(d)}}function u(){c=!0}function f(){cancelAnimationFrame(r),a=0,r=0,c=!0}return{start:function(e){!e&&f(),s=i()-(e?a*t:0),c=!1,U(d)},rewind:function(){s=i(),a=0,o&&o(a)},pause:u,cancel:f,isPaused:function(){return c}}}function Nt(t,e){let o;return function(){o||(o=Et(e||0,(()=>{t.apply(this,arguments),o=null}),null,1),o.start())}}const xt="ttb",It={marginRight:["marginBottom","marginLeft"],autoWidth:["autoHeight"],fixedWidth:["fixedHeight"],paddingLeft:["paddingTop","paddingRight"],paddingRight:["paddingBottom","paddingLeft"],width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:["ArrowUp","ArrowRight"],ArrowRight:["ArrowDown","ArrowLeft"]};const Tt="splide__slide",Pt="splide__slide--clone",Lt="splide__arrows",kt="splide__arrow",Yt="splide__arrow--prev",Dt="splide__arrow--next",_t="splide__pagination",At="is-active",Xt="is-prev",Ht="is-next",Mt="is-visible",Wt="is-loading",Rt=[At,Mt,Xt,Ht,Wt],zt={slide:Tt,clone:Pt,arrows:Lt,arrow:kt,prev:Yt,next:Dt,pagination:_t,page:"splide__pagination__page",spinner:"splide__spinner"};const Ft="role",Bt="aria-controls",$t="aria-current",qt="aria-label",jt="aria-hidden",Vt="tabindex",Zt="aria-orientation",Ut=[Ft,Bt,$t,qt,jt,Zt,Vt,"disabled"],Gt="slide",Kt="loop",Qt="fade";function Jt(t,e,o,n){const{on:i,emit:s,bind:r,destroy:a}=Ot(t),{Components:c,root:l,options:d}=t,{isNavigation:u,updateOnMove:f}=d,{resolve:h}=c.Direction,p=X(n,"style"),m=o>-1,g=I(n,".splide__slide__container"),v=d.focusableNodes&&B(n,d.focusableNodes);let C;function y(t,o,n){C||(b.call(this),n===e&&S.call(this,!0))}function b(){if(!C){const{index:o}=t;S.call(this,E()),O.call(this,function(){if(t.is(Qt))return E();const e=M(c.Elements.track),o=M(n),i=h("left"),s=h("right");return Q(e[i])<=J(o[i])&&Q(o[s])<=J(e[s])}()),w(n,Xt,e===o-1),w(n,Ht,e===o+1)}}function S(t){t!==H(n,At)&&(w(n,At,t),u&&Y(n,$t,t||null),s(t?"active":"inactive",this))}function O(t){const e=!t&&!E();Y(n,jt,e||null),Y(n,Vt,!e&&d.slideFocus?0:null),v&&v.forEach((t=>{Y(t,Vt,e?-1:null)})),t!==H(n,Mt)&&(w(n,Mt,t),s(t?"visible":"hidden",this))}function E(){return t.index===e}return{index:e,slideIndex:o,slide:n,container:g,isClone:m,mount:function(){!function(){m||(n.id=`${l.id}-slide${st(e+1)}`);if(u){const i=m?o:e,s=it(d.i18n.slideX,i+1),r=t.splides.map((t=>t.root.id)).join(" ");Y(n,qt,s),Y(n,Bt,r),Y(n,Ft,"menuitem")}}(),r(n,"click keydown",(t=>{s("click"===t.type?ut:ft,this,t)})),i([ht,vt,dt,yt],b.bind(this)),f&&i(lt,y.bind(this))},destroy:function(){C=!0,a(),$(n,Rt),k(n,Ut),Y(n,"style",p)},style:function(t,e,o){_(o&&g||n,t,e)},isWithin:function(o,n){let i=tt(o-e);return m||!d.rewind&&!t.is(Kt)||(i=G(i,t.length-i)),i<=n}}}const te="touchmove mousemove",ee="touchend touchcancel mouseup";const oe=["Left","Right","Up","Down"];const ne="data-splide-lazy",ie="data-splide-lazy-srcset",se="[data-splide-lazy], [data-splide-lazy-srcset]";const re=[" ","Enter","Spacebar"];var ae=Object.freeze({__proto__:null,Options:function(t,e,o){const n=Nt(l);let i,s,a;function c(t){t&&removeEventListener("resize",n)}function l(){const e=(n=t=>t[1].matches,b(s).filter(n)[0]||[]);var n;e[0]!==a&&function(e){const n=o.breakpoints[e]||i;n.destroy?(t.options=i,t.destroy("completely"===n.destroy)):(t.state.is(5)&&(c(!0),t.mount()),t.options=n)}(a=e[0])}return{setup:function(){try{L(o,JSON.parse(X(t.root,r)))}catch(t){j(!1,t.message)}i=L({},o);const{breakpoints:e}=o;if(e){const t="min"===o.mediaQuery;s=Object.keys(e).sort(((e,o)=>t?+o-+e:+e-+o)).map((e=>[e,matchMedia(`(${t?"min":"max"}-width:${e}px)`)])),l()}},mount:function(){s&&addEventListener("resize",n)},destroy:c}},Direction:function(t,e,o){return{resolve:function(t,e){const{direction:n}=o;return It[t]["rtl"!==n||e?n===xt?0:-1:1]||t},orient:function(t){return t*("rtl"===o.direction?1:-1)}}},Elements:function(t,e,o){const{on:n}=Ot(t),{root:i}=t,r={},a=[];let l,d,u,f;function h(){!function(){d=I(i,".splide__slider"),u=F(i,".splide__track"),f=I(u,".splide__list"),j(u&&f,"A track/list element is missing."),C(a,x(f,`.splide__slide:not(.${Pt})`));const t=v(".splide__autoplay"),e=v(".splide__arrows");P(r,{root:i,slider:d,track:u,list:f,slides:a,arrows:e,autoplay:t,prev:F(e,".splide__arrow--prev"),next:F(e,".splide__arrow--next"),bar:F(v(".splide__progress"),".splide__progress__bar"),play:F(t,".splide__play"),pause:F(t,".splide__pause")})}(),function(){const t=i.id||(e=s,`${e}${st(rt[e]=(rt[e]||0)+1)}`);var e;i.id=t,u.id=u.id||`${t}-track`,f.id=f.id||`${t}-list`}(),S(i,l=y())}function p(){[i,u,f].forEach((t=>{k(t,"style")})),c(a),$(i,l)}function m(){p(),h()}function g(){$(i,l),S(i,l=y())}function v(t){return I(i,t)||I(d,t)}function y(){return[`splide--${o.type}`,`splide--${o.direction}`,o.drag&&"splide--draggable",o.isNavigation&&"splide--nav",At]}return P(r,{setup:h,mount:function(){n(ht,m,8),n(pt,g)},destroy:p})},Slides:function(t,e,o){const{on:n,emit:i,bind:s}=Ot(t),{slides:r,list:a}=e.Elements,l=[];function d(){r.forEach(((t,e)=>{C(t,e,-1)}))}function f(){b((t=>{t.destroy()})),c(l)}function h(){f(),d()}function C(e,o,n){const i=Jt(t,o,n,e);i.mount(),l.push(i)}function y(t){return t?w((t=>!t.isClone)):l}function b(t,e){y(e).forEach(t)}function w(t){return l.filter("function"==typeof t?t:e=>u(t)?N(e.slide,t):v(m(t),e.index))}return{mount:function(){d(),n(ht,h),n([at,ht],(()=>{l.sort(((t,e)=>t.index-e.index))}))},destroy:f,register:C,get:y,getIn:function(t){const{Controller:n}=e,i=n.toIndex(t),s=n.hasFocus()?1:o.perPage;return w((t=>et(t.index,i,i+s-1)))},getAt:function(t){return w(t)[0]},add:function(t,e){g(t,(t=>{if(u(t)&&(t=R(t)),p(t)){const n=r[e];n?E(t,n):O(a,t),S(t,o.classes.slide),function(t,e){const o=B(t,"img");let{length:n}=o;n?o.forEach((t=>{s(t,"load error",(()=>{--n||e()}))})):e()}(t,i.bind(null,mt))}})),i(ht)},remove:function(t){W(w(t).map((t=>t.slide))),i(ht)},forEach:b,filter:w,style:function(t,e,o){b((n=>{n.style(t,e,o)}))},getLength:function(t){return t?r.length:l.length},isEnough:function(){return l.length>o.perPage}}},Layout:function(t,e,o){const{on:n,bind:i,emit:s}=Ot(t),{Slides:r}=e,{resolve:a}=e.Direction,{root:c,track:d,list:u}=e.Elements,{getAt:f}=r;let h,p;function m(){p=null,h=o.direction===xt,_(c,"maxWidth",q(o.width)),_(d,a("paddingLeft"),v(!1)),_(d,a("paddingRight"),v(!0)),g()}function g(){const t=M(c);p&&p.width===t.width&&p.height===t.height||(_(d,"height",function(){let t="";h&&(t=C(),j(t,"height or heightRatio is missing."),t=`calc(${t} - ${v(!1)} - ${v(!0)})`);return t}()),r.style(a("marginRight"),q(o.gap)),r.style("width",(o.autoWidth?"":q(o.fixedWidth)||(h?"":y()))||null),r.style("height",q(o.fixedHeight)||(h?o.autoHeight?"":y():C())||null,!0),p=t,s(gt))}function v(t){const{padding:e}=o,n=a(t?"right":"left");return e&&q(e[n]||(l(e)?0:e))||"0px"}function C(){return q(o.height||M(u).width*o.heightRatio)}function y(){const t=q(o.gap);return`calc((100%${t&&` + ${t}`})/${o.perPage||1}${t&&` - ${t}`})`}function b(t,e){const o=f(t);if(o){const t=M(o.slide)[a("right")],n=M(u)[a("left")];return tt(t-n)+(e?0:w())}return 0}function w(){const t=f(0);return t&&parseFloat(_(t.slide,a("marginRight")))||0}return{mount:function(){m(),i(window,"resize load",Nt(s.bind(this,mt))),n([pt,ht],m),n(mt,g)},listSize:function(){return M(u)[a("width")]},slideSize:function(t,e){const o=f(t||0);return o?M(o.slide)[a("width")]+(e?0:w()):0},sliderSize:function(){return b(t.length-1,!0)-b(-1,!0)},totalSize:b,getPadding:function(t){return parseFloat(_(d,a("padding"+(t?"Right":"Left"))))||0}}},Clones:function(t,e,o){const{on:n,emit:i}=Ot(t),{Elements:s,Slides:r}=e,{resolve:a}=e.Direction,l=[];let d;function f(){(d=g())&&(!function(e){const n=r.get().slice(),{length:i}=n;if(i){for(;n.length<e;)C(n,n);C(n.slice(-e),n.slice(0,e)).forEach(((a,c)=>{const d=c<e,u=function(e,n){const i=e.cloneNode(!0);return S(i,o.classes.clone),i.id=`${t.root.id}-clone${st(n+1)}`,i}(a.slide,c);d?E(u,n[0].slide):O(s.list,u),C(l,u),r.register(u,c-e+(d?0:i),a.index)}))}}(d),i(mt))}function h(){W(l),c(l)}function p(){h(),f()}function m(){d<g()&&i(ht)}function g(){let{clones:e}=o;if(t.is(Kt)){if(!e){const n=function(t,e){if(u(e)){const o=D("div",{style:`width: ${e}; position: absolute;`},t);e=M(o).width,W(o)}return e}(s.list,o[a("fixedWidth")]);e=(n&&J(M(s.track)[a("width")]/n)||o[a("autoWidth")]&&t.length||o.perPage)*(o.drag?(o.flickMaxPages||1)+1:2)}}else e=0;return e}return{mount:function(){f(),n(ht,p),n([pt,mt],m)},destroy:h}},Move:function(t,e,o){const{on:n,emit:i}=Ot(t),{slideSize:s,getPadding:r,totalSize:a,listSize:c,sliderSize:l}=e.Layout,{resolve:d,orient:u}=e.Direction,{list:h,track:p}=e.Elements;let m;function g(){O()||(e.Scroll.cancel(),v(t.index),i(vt))}function v(t){C(b(t,!0))}function C(e,o){t.is(Qt)||(h.style.transform=`translate${d("X")}(${o?e:function(e){if(!m&&t.is(Kt)){const t=u(e-w()),o=E(!1,e)&&t<0,n=E(!0,e)&&t>0;(o||n)&&(e=y(e,n))}return e}(e)}px)`)}function y(t,e){const o=t-S(e),n=l();return t-=nt(o)*n*J(tt(o)/n)}function b(e,n){const i=u(a(e-1)-function(t){const{focus:e}=o;return"center"===e?(c()-s(t,!0))/2:+e*s(t)||0}(e));return n?function(e){o.trimSpace&&t.is(Gt)&&(e=ot(e,0,u(l()-c())));return e}(i):i}function w(){const t=d("left");return M(h)[t]-M(p)[t]+u(r(!1))}function S(t){return b(t?e.Controller.getEnd():0,!!o.trimSpace)}function O(){return!!m}function E(t,e){e=f(e)?w():e;const o=!0!==t&&u(e)<u(S(!1)),n=!1!==t&&u(e)>u(S(!0));return o||n}return{mount:function(){n([at,gt,pt,ht],g)},destroy:function(){k(h,"style")},move:function(n,s,r,a){if(!O()){const{set:c}=t.state,l=w(),d=n!==s;m=d||o.waitForTransition,c(4),i(lt,s,r,n),e.Transition.start(n,(()=>{d&&v(s),m=!1,c(3),i(dt,s,r,n),"move"===o.trimSpace&&n!==r&&l===w()?e.Controller.go(n>r?">":"<",!1,a):a&&a()}))}},jump:v,translate:C,shift:y,cancel:function(){m=!1,C(w()),e.Transition.cancel()},toIndex:function(t){const o=e.Slides.get();let n=0,i=1/0;for(let e=0;e<o.length;e++){const s=o[e].index,r=tt(b(s,!0)-t);if(!(r<=i))break;i=r,n=s}return n},toPosition:b,getPosition:w,getLimit:S,isBusy:O,exceededLimit:E}},Controller:function(t,e,o){const{on:n}=Ot(t),{Move:i}=e,{getPosition:s,getLimit:r}=i,{isEnough:a,getLength:c}=e.Slides,l=t.is(Kt),d=t.is(Gt);let h,p,m,g=o.start||0,v=g;function C(){h=c(!0),p=o.perMove,m=o.perPage,g=ot(g,0,h-1)}function y(t,o,n,s,r){const a=o?t:T(t);e.Scroll.scroll(o||n?i.toPosition(a,!0):t,s,(()=>{P(i.toIndex(i.getPosition())),r&&r()}))}function b(t){return S(!1,t)}function w(t){return S(!0,t)}function S(t,e){const o=p||(L()?1:m),n=O(g+o*(t?-1:1),g);return-1!==n||!d||(i=s(),a=r(!t),c=1,tt(i-a)<c)?e?n:N(n):t?0:E();var i,a,c}function O(t,e,n){if(a()){const i=E();t<0||t>i?t=et(0,t,e,!0)||et(i,e,t,!0)?x(I(t)):l?p?t:t<0?-(h%m||m):h:o.rewind?t<0?i:0:-1:n||t===e||(t=p?t:x(I(e)+(t<e?-1:1)))}else t=-1;return t}function E(){let t=h-m;return(L()||l&&p)&&(t=h-1),K(t,0)}function N(t){return l?a()?t%h+(t<0?h:0):-1:t}function x(t){return ot(L()?t:m*t,0,E())}function I(t){return L()||(t=et(t,h-m,h-1)?h-1:t,t=Q(t/m)),t}function T(t){const e=i.toIndex(t);return d?ot(e,0,E()):e}function P(t){t!==g&&(v=g,g=t)}function L(){return!f(o.focus)||o.isNavigation}return{mount:function(){C(),n([pt,ht],C,9)},go:function(t,e,n){const s=function(t){let e=g;if(u(t)){const[,o,n]=t.match(/([+\-<>])(\d+)?/)||[];"+"===o||"-"===o?e=O(g+ +`${o}${+n||1}`,g,!0):">"===o?e=n?x(+n):b(!0):"<"===o&&(e=w(!0))}else e=l?ot(t,-m,h+m-1):ot(t,0,E());return e}(t);if(o.useScroll)y(s,!0,!0,o.speed,n);else{const t=N(s);t>-1&&!i.isBusy()&&(e||t!==g)&&(P(t),i.move(s,t,v,n))}},scroll:y,getNext:b,getPrev:w,getEnd:E,setIndex:P,getIndex:function(t){return t?v:g},toIndex:x,toPage:I,toDest:T,hasFocus:L}},Arrows:function(t,e,o){const{on:n,bind:i,emit:s}=Ot(t),{classes:r,i18n:a}=o,{Elements:c,Controller:l}=e;let d,u=c.arrows,f=c.prev,h=c.next;const p={};function m(){if(o.arrows&&(f&&h||(u=D("div",r.arrows),f=g(!0),h=g(!1),d=!0,O(u,[f,h]),E(u,I("slider"===o.arrows&&c.slider||t.root)))),f&&h)if(p.prev)A(u,!1===o.arrows?"none":"");else{const{id:t}=c.track;Y(f,Bt,t),Y(h,Bt,t),p.prev=f,p.next=h,function(){const{go:t}=l;n([at,dt,pt,ht,yt],v),i(h,"click",(()=>{t(">",!0)})),i(f,"click",(()=>{t("<",!0)}))}(),s("arrows:mounted",f,h)}}function g(t){return R(`<button class="${r.arrow} ${t?r.prev:r.next}" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40"><path d="${o.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z"}" />`)}function v(){const e=t.index,o=l.getPrev(),n=l.getNext(),i=o>-1&&e<o?a.last:a.prev,r=n>-1&&e>n?a.first:a.next;f.disabled=o<0,h.disabled=n<0,Y(f,qt,i),Y(h,qt,r),s("arrows:updated",f,h,o,n)}return{arrows:p,mount:function(){m(),n(pt,m)},destroy:function(){d?W(u):(k(f,Ut),k(h,Ut))}}},Autoplay:function(t,e,o){const{on:n,bind:i,emit:s}=Ot(t),{Elements:r}=e,a=Et(o.interval,t.go.bind(t,">"),(function(t){const{bar:e}=r;e&&_(e,"width",100*t+"%");s("autoplay:playing",t)})),{isPaused:c}=a;let l,d,u;function f(t){const e=t?"pause":"play",n=r[e];n&&(Y(n,Bt,r.track.id),Y(n,qt,o.i18n[e]),i(n,"click",t?p:h))}function h(){c()&&e.Slides.isEnough()&&(a.start(!o.resetProgress),d=l=u=!1,s("autoplay:play"))}function p(t=!0){c()||(a.pause(),s("autoplay:pause")),u=t}function m(){u||(l||d?p(!1):h())}return{mount:function(){const{autoplay:t}=o;t&&(f(!0),f(!1),function(){const{root:t}=r;o.pauseOnHover&&i(t,"mouseenter mouseleave",(t=>{l="mouseenter"===t.type,m()}));o.pauseOnFocus&&i(t,"focusin focusout",(t=>{d="focusin"===t.type,m()}));n([lt,Ct,ht],a.rewind)}(),"pause"!==t&&h())},destroy:a.cancel,play:h,pause:p,isPaused:c}},Cover:function(t,e,o){const{on:n}=Ot(t);function i(t){e.Slides.forEach((e=>{const o=I(e.container||e.slide,"img");o&&o.src&&s(t,o,e)}))}function s(t,e,o){o.style("background",t?`center/cover no-repeat url("${e.src}")`:"",!0),A(e,t?"none":"")}return{mount:function(){o.cover&&(n(St,((t,e)=>{s(!0,t,e)})),n([at,pt,ht],i.bind(null,!0)))},destroy:function(){i(!1)}}},Scroll:function(t,e,o){const{on:n,emit:i}=Ot(t),{Move:s}=e,{getPosition:r,getLimit:a,exceededLimit:c}=s;let l,d;function u(e,n,p,m){const g=r();let v=1;var C;n=n||(C=tt(e-g),K(C/1.5,800)),d=p,h(),l=Et(n,f,(n=>{const i=r(),l=(g+(e-g)*function(t){const{easingFunc:e}=o;return e?e(t):1-Math.pow(1-t,4)}(n)-r())*v;var d;s.translate(i+l),t.is(Gt)&&!m&&c()&&(v*=.6,tt(l)<10&&(d=c(!1),u(a(!d),600,null,!0)))}),1),i(Ct),l.start()}function f(){const e=r(),o=s.toIndex(e);et(o,0,t.length-1)||s.translate(s.shift(e,o>0),!0),d&&d(),i(yt)}function h(){l&&l.cancel()}function p(){l&&!l.isPaused()&&(h(),f())}return{mount:function(){n(lt,h),n([pt,ht],p)},destroy:h,scroll:u,cancel:p}},Drag:function(t,e,o){const{on:n,emit:i,bind:s,unbind:r}=Ot(t),{Move:a,Scroll:c,Controller:d}=e,{track:u}=e.Elements,{resolve:f,orient:h}=e.Direction,{getPosition:m,exceededLimit:g}=a,v={passive:!1,capture:!0};let C,y,b,w,S,O,E,x,I,T=!1;function P(){const{drag:t}=o;W(!t),S="free"===t}function L(t){if(!x){const{noDrag:e}=o,n=M(t);!(!e||p(t.target)&&!N(t.target,e))||!n&&t.button||(a.isBusy()?z(t,!0):(I=n?u:window,b=null,w=null,E=!1,s(I,te,k,v),s(I,ee,Y,v),a.cancel(),c.cancel(),D(t)))}}function k(e){if(w||i("drag"),w=e,e.cancelable){const n=X(e)-X(y);if(O){a.translate(C+function(e){return e/(T&&t.is(Gt)?5:1)}(n));const o=H(e)-H(y)>200,s=T!==(T=g());(o||s)&&D(e),i("dragging"),E=!0,z(e)}else{let{dragMinThreshold:t}=o;t=l(t)?t:{mouse:0,touch:+t||10},O=tt(n)>(M(e)?t.touch:t.mouse),A()&&z(e)}}}function Y(n){if(r(I,te,k),r(I,ee,Y),w){if(O||n.cancelable&&A()){const i=function(e){if(t.is(Kt)||!T){const t=y===w&&b||y,o=X(w)-X(t),n=H(e)-H(t),i=H(e)-H(w)<200;if(n&&i)return o/n}return 0}(n),s=function(t){return m()+nt(t)*G(tt(t)*(o.flickPower||600),S?1/0:e.Layout.listSize()*(o.flickMaxPages||1))}(i);S?d.scroll(s):t.is(Qt)?d.go(t.index+h(nt(i))):d.go(d.toDest(s),!0),z(n)}i("dragged")}O=!1}function D(t){b=y,y=t,C=m()}function _(t){!x&&E&&z(t,!0)}function A(){return tt(X(w)-X(y))>tt(X(w,!0)-X(y,!0))}function X(t,e){return(M(t)?t.touches[0]:t)[`page${f(e?"Y":"X")}`]}function H(t){return t.timeStamp}function M(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}function W(t){x=t}return{mount:function(){s(u,te,Z,v),s(u,ee,Z,v),s(u,"touchstart mousedown",L,v),s(u,"click",_,{capture:!0}),s(u,"dragstart",z),n([at,pt],P)},disable:W,isDragging:function(){return O}}},Keyboard:function(t,e,o){const{on:n,bind:i,unbind:s}=Ot(t),{root:r}=e.Elements,{resolve:a}=e.Direction;let c;function l(){const{keyboard:t="global"}=o;t&&("focused"===t?(c=r,Y(r,Vt,0)):c=window,i(c,"keydown",u))}function d(){s(c,"keydown"),p(c)&&k(c,Vt)}function u(e){const{key:o}=e,n=v(oe,o)?`Arrow${o}`:o;n===a("ArrowLeft")?t.go("<"):n===a("ArrowRight")&&t.go(">")}return{mount:function(){l(),n(pt,(()=>{d(),l()}))},destroy:d}},LazyLoad:function(t,e,o){const{on:n,off:i,bind:s,emit:r}=Ot(t),a="sequential"===o.lazyLoad;let c=[],l=0;function d(){l=0,c=[]}function u(){c=c.filter((e=>{const n=o.perPage*((o.preloadPages||1)+1)-1;return!e._Slide.isWithin(t.index,n)||f(e)})),c.length||i(dt)}function f(t){const{_img:e}=t;S(t._Slide.slide,Wt),s(e,"load error",(e=>{!function(t,e){const{_Slide:o}=t;$(o.slide,Wt),e||(W(t._spinner),A(t._img,""),r(St,t._img,o),r(mt));a&&h()}(t,"error"===e.type)})),["src","srcset"].forEach((o=>{t[o]&&(Y(e,o,t[o]),k(e,"src"===o?ne:ie))}))}function h(){l<c.length&&f(c[l++])}return{mount:function(){o.lazyLoad&&(n([at,ht],(()=>{d(),e.Slides.forEach((t=>{B(t.slide,se).forEach((e=>{const n=X(e,ne),i=X(e,ie);if(n!==e.src||i!==e.srcset){const s=D("span",o.classes.spinner,e.parentElement);Y(s,Ft,"presentation"),c.push({_img:e,_Slide:t,src:n,srcset:i,_spinner:s}),!e.src&&A(e,"none")}}))})),a&&h()})),a||n([at,ht,dt],u))},destroy:d}},Pagination:function(t,e,o){const{on:n,emit:i,bind:s,unbind:r}=Ot(t),{Slides:a,Elements:l,Controller:d}=e,{hasFocus:u,getIndex:f}=d,h=[];let p;function m(){g(),o.pagination&&a.isEnough()&&(!function(){const{length:e}=t,{classes:n,i18n:i,perPage:r}=o,c="slider"===o.pagination&&l.slider||l.root,d=u()?e:J(e/r);p=D("ul",n.pagination,c);for(let t=0;t<d;t++){const e=D("li",null,p),o=D("button",{class:n.page,type:"button"},e),c=a.getIn(t).map((t=>t.slide.id)),l=!u()&&r>1?i.pageX:i.slideX;s(o,"click",v.bind(null,t)),Y(o,Bt,c.join(" ")),Y(o,qt,it(l,t+1)),h.push({li:e,button:o,page:t})}}(),i("pagination:mounted",{list:p,items:h},C(t.index)),y())}function g(){p&&(W(p),h.forEach((t=>{r(t.button,"click")})),c(h),p=null)}function v(t){d.go(`>${t}`,!0,(()=>{const e=a.getAt(d.toIndex(t));var o;e&&((o=e.slide).setActive&&o.setActive()||o.focus({preventScroll:!0}))}))}function C(t){return h[d.toPage(t)]}function y(){const t=C(f(!0)),e=C(f());t&&($(t.button,At),k(t.button,$t)),e&&(S(e.button,At),Y(e.button,$t,!0)),i("pagination:updated",{list:p,items:h},t,e)}return{items:h,mount:function(){m(),n([pt,ht],m),n([lt,yt],y)},destroy:g,getAt:C}},Sync:function(t,e,o){const{splides:n}=t,{list:i}=e.Elements;function s(){Y(i,Zt,o.direction!==xt?"horizontal":null)}function r(e){t.go(e.index)}function a(t,e){v(re,e.key)&&(r(t),z(e))}return{mount:function(){o.isNavigation?function(){const{on:e,emit:o}=Ot(t);e(ut,r),e(ft,a),e([at,pt],s),Y(i,Ft,"menu"),o(wt,t.splides)}():function(){const e=[];n.concat(t).forEach(((t,o,n)=>{Ot(t).on(lt,((o,i,s)=>{n.forEach((n=>{n===t||v(e,t)||(e.push(n),n.go(n.is(Kt)?s:o))})),c(e)}))}))}()},destroy:function(){k(i,Ut)}}},Wheel:function(t,e,o){const{bind:n}=Ot(t);function i(e){const{deltaY:o}=e;o&&(t.go(o<0?"<":">"),z(e))}return{mount:function(){o.wheel&&n(e.Elements.track,"wheel",i,{passive:!1,capture:!0})}}}});const ce={type:"slide",speed:400,waitForTransition:!0,perPage:1,arrows:!0,pagination:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",slideFocus:!0,trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",classes:zt,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay"}};function le(t,e,o){const{on:n}=Ot(t);return{mount:function(){n([at,ht],(()=>{V((()=>{e.Slides.style("transition",`opacity ${o.speed}ms ${o.easing}`)}))}))},start:function(t,o){const{track:n}=e.Elements;_(n,"height",q(M(n).height)),V((()=>{o(),_(n,"height","")}))},cancel:Z}}function de(t,e,o){const{bind:n}=Ot(t),{Move:i,Controller:s}=e,{list:r}=e.Elements;let a;function c(){l("")}function l(t){_(r,"transition",t)}return{mount:function(){n(r,"transitionend",(t=>{t.target===r&&a&&(c(),a())}))},start:function(e,n){const r=i.toPosition(e,!0),c=i.getPosition(),d=function(e){const{rewindSpeed:n}=o;if(t.is(Gt)&&n){const t=s.getIndex(!0),o=s.getEnd();if(0===t&&e>=o||t>=o&&0===e)return n}return o.speed}(e);tt(r-c)>=1&&d>=1?(l(`transform ${d}ms ${o.easing}`),i.translate(r,!0),a=n):(i.jump(e),n())},cancel:c}}const ue=class{constructor(t,e){this.event=function(){let t={};function e(e,n){o(e,((e,o)=>{const i=t[e];t[e]=i&&i.filter((t=>t._key?t._key!==n:n||t._namespace!==o))}))}function o(t,e){m(t).join(" ").split(" ").forEach((t=>{const o=t.split(".");e(o[0],o[1])}))}return{on:function(e,n,i,s=10){o(e,((e,o)=>{t[e]=t[e]||[],C(t[e],{_event:e,_callback:n,_namespace:o,_priority:s,_key:i}).sort(((t,e)=>t._priority-e._priority))}))},off:e,offBy:function(o){T(t,((t,n)=>{e(n,o)}))},emit:function(e){(t[e]||[]).forEach((t=>{t._callback.apply(t,b(arguments,1))}))},destroy:function(){t={}}}}(),this.Components={},this.state=function(t){let e=t;return{set:function(t){e=t},is:function(t){return v(m(t),e)}}}(1),this.splides=[],this._options={},this._Extensions={};const o=u(t)?F(document,t):t;j(o,`${o} is invalid.`),this.root=o,L(ce,ue.defaults),L(L(this._options,ce),e||{})}mount(t,e){const{state:o,Components:n}=this;j(o.is([1,5]),"Already mounted!"),o.set(1),this._Components=n,this._Transition=e||this._Transition||(this.is(Qt)?le:de),this._Extensions=t||this._Extensions;return T(P({},ae,this._Extensions,{Transition:this._Transition}),((t,e)=>{const o=t(this,n,this._options);n[e]=o,o.setup&&o.setup()})),T(n,(t=>{t.mount&&t.mount()})),this.emit(at),S(this.root,"is-initialized"),o.set(3),this.emit(ct),this}sync(t){return this.splides.push(t),t.splides.push(this),this}go(t){return this._Components.Controller.go(t),this}on(t,e){return this.event.on(t,e,null,20),this}off(t){return this.event.off(t),this}emit(t){return this.event.emit(t,...b(arguments,1)),this}add(t,e){return this._Components.Slides.add(t,e),this}remove(t){return this._Components.Slides.remove(t),this}is(t){return this._options.type===t}refresh(){return this.emit(ht),this}destroy(t=!0){const{event:e,state:o}=this;return o.is(1)?e.on(ct,this.destroy.bind(this,t),this):(T(this._Components,(e=>{e.destroy&&e.destroy(t)}),!0),e.emit(bt),e.destroy(),t&&c(this.splides),o.set(5)),this}get options(){return this._options}set options(t){const{_options:e}=this;L(e,t),this.state.is(1)||this.emit(pt,e)}get length(){return this._Components.Slides.getLength(!0)}get index(){return this._Components.Controller.getIndex()}};let fe=ue;fe.defaults={},fe.STATES=a,document.querySelector("#carousel")&&new fe("#carousel",{pagination:!1,type:"slide",perPage:4,perMove:1,gap:32,breakpoints:{500:{perPage:1,gap:10},767:{perPage:2,gap:10},1024:{perPage:2,gap:16},1400:{perPage:3,gap:32}}}).mount();new(function(){function o(){var e=this;if(t(this,o),this.elements=document.querySelectorAll(".togglenav__button"),!this.elements)return!1;this.elements.forEach((function(t){t.addEventListener("click",e.toggleNav,!1)}))}var n,i,s;return n=o,(i=[{key:"toggleNav",value:function(t){document.body.classList.toggle("nav-is-open"),document.body.classList.toggle("lock"),t.preventDefault()}}])&&e(n.prototype,i),s&&e(n,s),o}());var he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var pe,me,ge=(function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return a=t.done,t},e:function(t){c=!0,r=t},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw r}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function t(e,o){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"defaultOptions",{sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox",rtl:!1,fixedClass:"sl-fixed",fadeSpeed:300,uniqueImages:!0,focus:!0,scrollZoom:!0,scrollZoomFactor:.5}),r(this,"transitionPrefix",void 0),r(this,"isPassiveEventsSupported",void 0),r(this,"transitionCapable",!1),r(this,"isTouchDevice","ontouchstart"in window),r(this,"isAppleDevice",/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),r(this,"initialLocationHash",void 0),r(this,"pushStateSupport","pushState"in history),r(this,"isOpen",!1),r(this,"isAnimating",!1),r(this,"isClosing",!1),r(this,"isFadeIn",!1),r(this,"urlChangedOnce",!1),r(this,"hashReseted",!1),r(this,"historyHasChanges",!1),r(this,"historyUpdateTimeout",null),r(this,"currentImage",void 0),r(this,"eventNamespace","simplelightbox"),r(this,"domNodes",{}),r(this,"loadedImages",[]),r(this,"initialImageIndex",0),r(this,"currentImageIndex",0),r(this,"initialSelector",null),r(this,"globalScrollbarWidth",0),r(this,"controlCoordinates",{swipeDiff:0,swipeYDiff:0,swipeStart:0,swipeEnd:0,swipeYStart:0,swipeYEnd:0,mousedown:!1,imageLeft:0,zoomed:!1,containerHeight:0,containerWidth:0,containerOffsetX:0,containerOffsetY:0,imgHeight:0,imgWidth:0,capture:!1,initialOffsetX:0,initialOffsetY:0,initialPointerOffsetX:0,initialPointerOffsetY:0,initialPointerOffsetX2:0,initialPointerOffsetY2:0,initialScale:1,initialPinchDistance:0,pointerOffsetX:0,pointerOffsetY:0,pointerOffsetX2:0,pointerOffsetY2:0,targetOffsetX:0,targetOffsetY:0,targetScale:0,pinchOffsetX:0,pinchOffsetY:0,limitOffsetX:0,limitOffsetY:0,scaleDifference:0,targetPinchDistance:0,touchCount:0,doubleTapped:!1,touchmoveCount:0}),this.options=Object.assign(this.defaultOptions,o),this.isPassiveEventsSupported=this.checkPassiveEventsSupport(),"string"==typeof e?(this.initialSelector=e,this.elements=Array.from(document.querySelectorAll(e))):this.elements=void 0!==e.length&&e.length>0?Array.from(e):[e],this.relatedElements=[],this.transitionPrefix=this.calculateTransitionPrefix(),this.transitionCapable=!1!==this.transitionPrefix,this.initialLocationHash=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.options.uniqueImages){var i=[];this.elements=Array.from(this.elements).filter((function(t){var e=t.getAttribute(n.options.sourceAttr);return-1===i.indexOf(e)&&(i.push(e),!0)}))}this.createDomNodes(),this.options.close&&this.domNodes.wrapper.appendChild(this.domNodes.closeButton),this.options.nav&&this.domNodes.wrapper.appendChild(this.domNodes.navigation),this.options.spinner&&this.domNodes.wrapper.appendChild(this.domNodes.spinner),this.addEventListener(this.elements,"click."+this.eventNamespace,(function(t){if(n.isValidLink(t.currentTarget)){if(t.preventDefault(),n.isAnimating)return!1;n.initialImageIndex=n.elements.indexOf(t.currentTarget),n.openImage(t.currentTarget)}})),this.options.docClose&&this.addEventListener(this.domNodes.wrapper,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],(function(t){n.isOpen&&t.target===t.currentTarget&&n.close()})),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.eventNamespace,(function(t){t.target.parentElement.classList.contains("sl-image")&&t.preventDefault()})),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.eventNamespace,this.throttle((function(t){if(n.controlCoordinates.swipeDiff=0,n.isAnimating&&"Escape"===t.key)return n.currentImage.setAttribute("src",""),n.isAnimating=!1,n.close();n.isOpen&&(t.preventDefault(),"Escape"===t.key&&n.close(),!n.isAnimating&&["ArrowLeft","ArrowRight"].indexOf(t.key)>-1&&n.loadImage("ArrowRight"===t.key?1:-1))}),this.options.throttleInterval)),this.addEvents()}var e,i,a;return e=t,(i=[{key:"checkPassiveEventsSupport",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}},{key:"createDomNodes",value:function(){this.domNodes.overlay=document.createElement("div"),this.domNodes.overlay.classList.add("sl-overlay"),this.domNodes.overlay.dataset.opacityTarget=".7",this.domNodes.closeButton=document.createElement("button"),this.domNodes.closeButton.classList.add("sl-close"),this.domNodes.closeButton.innerHTML=this.options.closeText,this.domNodes.spinner=document.createElement("div"),this.domNodes.spinner.classList.add("sl-spinner"),this.domNodes.spinner.innerHTML="<div></div>",this.domNodes.navigation=document.createElement("div"),this.domNodes.navigation.classList.add("sl-navigation"),this.domNodes.navigation.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.domNodes.counter=document.createElement("div"),this.domNodes.counter.classList.add("sl-counter"),this.domNodes.counter.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.domNodes.caption=document.createElement("div"),this.domNodes.caption.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass&&this.domNodes.caption.classList.add(this.options.captionClass),this.domNodes.image=document.createElement("div"),this.domNodes.image.classList.add("sl-image"),this.domNodes.wrapper=document.createElement("div"),this.domNodes.wrapper.classList.add("sl-wrapper"),this.domNodes.wrapper.setAttribute("tabindex",-1),this.domNodes.wrapper.setAttribute("role","dialog"),this.domNodes.wrapper.setAttribute("aria-hidden",!1),this.options.className&&this.domNodes.wrapper.classList.add(this.options.className),this.options.rtl&&this.domNodes.wrapper.classList.add("sl-dir-rtl")}},{key:"throttle",value:function(t,e){var o;return function(){o||(t.apply(this,arguments),o=!0,setTimeout((function(){return o=!1}),e))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||t.getAttribute(this.options.sourceAttr)&&new RegExp("("+this.options.fileExt+")$","i").test(t.getAttribute(this.options.sourceAttr))}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t&&"-o"}},{key:"toggleScrollbar",value:function(t){var e=0,o=[].slice.call(document.querySelectorAll("."+this.options.fixedClass));if("hide"===t){var n=window.innerWidth;if(!n){var i=document.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}if(document.body.clientWidth<n||this.isAppleDevice){var s=document.createElement("div"),r=parseInt(document.body.style.paddingRight||0,10);s.classList.add("sl-scrollbar-measure"),document.body.appendChild(s),e=s.offsetWidth-s.clientWidth,document.body.removeChild(s),document.body.dataset.originalPaddingRight=r,(e>0||0==e&&this.isAppleDevice)&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=r+e+"px",o.forEach((function(t){var o=t.style.paddingRight,n=window.getComputedStyle(t)["padding-right"];t.dataset.originalPaddingRight=o,t.style.paddingRight="".concat(parseFloat(n)+e,"px")})))}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight,o.forEach((function(t){var e=t.dataset.originalPaddingRight;void 0!==e&&(t.style.paddingRight=e)}));return e}},{key:"close",value:function(){var t=this;if(!this.isOpen||this.isAnimating||this.isClosing)return!1;this.isClosing=!0;var e=this.relatedElements[this.currentImageIndex];for(var o in e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.historyHasChanges=!1,this.hashReseted||this.resetHash()),this.removeEventListener(document,"focusin."+this.eventNamespace),this.fadeOut(document.querySelectorAll(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),this.options.fadeSpeed,(function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&""!==t.options.htmlClass&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.domNodes.wrapper),document.body.removeChild(t.domNodes.overlay),t.domNodes.additionalHtml=null,e.dispatchEvent(new Event("closed.simplelightbox")),t.isClosing=!1})),this.currentImage=null,this.isOpen=!1,this.isAnimating=!1,this.controlCoordinates)this.controlCoordinates[o]=0;this.controlCoordinates.mousedown=!1,this.controlCoordinates.zoomed=!1,this.controlCoordinates.capture=!1,this.controlCoordinates.initialScale=this.minMax(1,1,this.options.maxZoom),this.controlCoordinates.doubleTapped=!1}},{key:"hash",get:function(){return window.location.hash.substring(1)}},{key:"preload",value:function(){var t=this,e=this.currentImageIndex,o=this.relatedElements.length,n=e+1<0?o-1:e+1>=o-1?0:e+1,i=e-1<0?o-1:e-1>=o-1?0:e-1,s=new Image,r=new Image;s.addEventListener("load",(function(o){var n=o.target.getAttribute("src");-1===t.loadedImages.indexOf(n)&&t.loadedImages.push(n),t.relatedElements[e].dispatchEvent(new Event("nextImageLoaded."+t.eventNamespace))})),s.setAttribute("src",this.relatedElements[n].getAttribute(this.options.sourceAttr)),r.addEventListener("load",(function(o){var n=o.target.getAttribute("src");-1===t.loadedImages.indexOf(n)&&t.loadedImages.push(n),t.relatedElements[e].dispatchEvent(new Event("prevImageLoaded."+t.eventNamespace))})),r.setAttribute("src",this.relatedElements[i].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(t){var e=this,o=t;this.options.rtl&&(t=-t),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event("change."+this.eventNamespace)),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((1===t?"next":"prev")+"."+this.eventNamespace));var n=this.currentImageIndex+t;if(this.isAnimating||(n<0||n>=this.relatedElements.length)&&!1===this.options.loop)return!1;this.currentImageIndex=n<0?this.relatedElements.length-1:n>this.relatedElements.length-1?0:n,this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*o-this.controlCoordinates.swipeDiff+"px"),this.fadeOut(this.domNodes.image,this.options.fadeSpeed,(function(){e.isAnimating=!0,e.isClosing?e.isAnimating=!1:setTimeout((function(){var t=e.relatedElements[e.currentImageIndex];e.currentImage.setAttribute("src",t.getAttribute(e.options.sourceAttr)),-1===e.loadedImages.indexOf(t.getAttribute(e.options.sourceAttr))&&e.show(e.domNodes.spinner),e.domNodes.image.contains(e.domNodes.caption)&&e.domNodes.image.removeChild(e.domNodes.caption),e.adjustImage(o),e.options.preloading&&e.preload()}),100)}))}},{key:"adjustImage",value:function(t){var e=this;if(!this.currentImage)return!1;var o=new Image,n=window.innerWidth*this.options.widthRatio,i=window.innerHeight*this.options.heightRatio;o.setAttribute("src",this.currentImage.getAttribute("src")),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.zoomPanElement(0,0,1),o.addEventListener("error",(function(o){e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("error."+e.eventNamespace)),e.isAnimating=!1,e.isOpen=!0,e.domNodes.spinner.style.display="none";var n=1===t||-1===t;if(e.initialImageIndex===e.currentImageIndex&&n)return e.close();e.options.alertError&&alert(e.options.alertErrorMessage),e.loadImage(n?t:1)})),o.addEventListener("load",(function(o){void 0!==t&&(e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("changed."+e.eventNamespace)),e.relatedElements[e.currentImageIndex].dispatchEvent(new Event((1===t?"nextDone":"prevDone")+"."+e.eventNamespace))),e.options.history&&e.updateURL(),-1===e.loadedImages.indexOf(e.currentImage.getAttribute("src"))&&e.loadedImages.push(e.currentImage.getAttribute("src"));var s,r,a=o.target.width,c=o.target.height;if(e.options.scaleImageToRatio||a>n||c>i){var l=a/c>n/i?a/n:c/i;a/=l,c/=l}e.domNodes.image.style.top=(window.innerHeight-c)/2+"px",e.domNodes.image.style.left=(window.innerWidth-a-e.globalScrollbarWidth)/2+"px",e.domNodes.image.style.width=a+"px",e.domNodes.image.style.height=c+"px",e.domNodes.spinner.style.display="none",e.options.focus&&e.forceFocus(),e.fadeIn(e.currentImage,e.options.fadeSpeed,(function(){e.options.focus&&e.domNodes.wrapper.focus()})),e.isOpen=!0,"string"==typeof e.options.captionSelector?s="self"===e.options.captionSelector?e.relatedElements[e.currentImageIndex]:e.relatedElements[e.currentImageIndex].querySelector(e.options.captionSelector):"function"==typeof e.options.captionSelector&&(s=e.options.captionSelector(e.relatedElements[e.currentImageIndex])),e.options.captions&&s&&(r="data"===e.options.captionType?s.dataset[e.options.captionsData]:"text"===e.options.captionType?s.innerHTML:s.getAttribute(e.options.captionsData)),e.options.loop?1===e.relatedElements.length?e.hide(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):e.show(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):(0===e.currentImageIndex&&e.hide(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex>=e.relatedElements.length-1&&e.hide(e.domNodes.navigation.querySelector(".sl-next")),e.currentImageIndex>0&&e.show(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex<e.relatedElements.length-1&&e.show(e.domNodes.navigation.querySelector(".sl-next"))),1===t||-1===t?(e.options.animationSlide&&(e.slide(0,100*t+"px"),setTimeout((function(){e.slide(e.options.animationSpeed/1e3,"0px")}),50)),e.fadeIn(e.domNodes.image,e.options.fadeSpeed,(function(){e.isAnimating=!1,e.setCaption(r,a)}))):(e.isAnimating=!1,e.setCaption(r,a)),e.options.additionalHtml&&!e.domNodes.additionalHtml&&(e.domNodes.additionalHtml=document.createElement("div"),e.domNodes.additionalHtml.classList.add("sl-additional-html"),e.domNodes.additionalHtml.innerHTML=e.options.additionalHtml,e.domNodes.image.appendChild(e.domNodes.additionalHtml))}))}},{key:"zoomPanElement",value:function(t,e,o){this.currentImage.style[this.transitionPrefix+"transform"]="translate("+t+","+e+") scale("+o+")"}},{key:"minMax",value:function(t,e,o){return t<e?e:t>o?o:t}},{key:"setZoomData",value:function(t,e,o){this.currentImage.dataset.scale=t,this.currentImage.dataset.translateX=e,this.currentImage.dataset.translateY=o}},{key:"hashchangeHandler",value:function(){this.isOpen&&this.hash===this.initialLocationHash&&(this.hashReseted=!0,this.close())}},{key:"addEvents",value:function(){var t=this;if(this.addEventListener(window,"resize."+this.eventNamespace,(function(e){t.isOpen&&t.adjustImage()})),this.addEventListener(this.domNodes.closeButton,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],this.close.bind(this)),this.options.history&&setTimeout((function(){t.addEventListener(window,"hashchange."+t.eventNamespace,(function(e){t.isOpen&&t.hashchangeHandler()}))}),40),this.addEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace,(function(e){if(!e.currentTarget.tagName.match(/button/i))return!0;e.preventDefault(),t.controlCoordinates.swipeDiff=0,t.loadImage(e.currentTarget.classList.contains("sl-next")?1:-1)})),this.options.scrollZoom){var e=1;this.addEventListener(this.domNodes.image,["mousewheel","DOMMouseScroll"],(function(o){if(t.controlCoordinates.mousedown||t.isAnimating||t.isClosing||!t.isOpen)return!0;0==t.controlCoordinates.containerHeight&&(t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)),o.preventDefault();var n=o.delta||o.wheelDelta;void 0===n&&(n=o.detail),n=Math.max(-1,Math.min(1,n)),e+=n*t.options.scrollZoomFactor*e,e=Math.max(1,Math.min(t.options.maxZoom,e)),t.controlCoordinates.targetScale=e,t.controlCoordinates.pinchOffsetX=o.pageX,t.controlCoordinates.pinchOffsetY=o.pageY,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1?(t.controlCoordinates.zoomed=!0,t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)):(1===t.controlCoordinates.initialScale&&(t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.setZoomData(t.controlCoordinates.targetScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)}))}this.addEventListener(this.domNodes.image,["touchstart."+this.eventNamespace,"mousedown."+this.eventNamespace],(function(e){if("A"===e.target.tagName&&"touchstart"===e.type)return!0;if("mousedown"===e.type)e.preventDefault(),t.controlCoordinates.initialPointerOffsetX=e.clientX,t.controlCoordinates.initialPointerOffsetY=e.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.capture=!0;else{if(t.controlCoordinates.touchCount=e.touches.length,t.controlCoordinates.initialPointerOffsetX=e.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=e.touches[0].clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,1===t.controlCoordinates.touchCount){if(t.controlCoordinates.doubleTapped)return t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout((function(){t.currentImage&&t.currentImage.classList.remove("sl-transition")}),200),!1;t.controlCoordinates.doubleTapped=!0,setTimeout((function(){t.controlCoordinates.doubleTapped=!1}),300),t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)}else 2===t.controlCoordinates.touchCount&&(t.controlCoordinates.initialPointerOffsetX2=e.touches[1].clientX,t.controlCoordinates.initialPointerOffsetY2=e.touches[1].clientY,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.pinchOffsetX=(t.controlCoordinates.initialPointerOffsetX+t.controlCoordinates.initialPointerOffsetX2)/2,t.controlCoordinates.pinchOffsetY=(t.controlCoordinates.initialPointerOffsetY+t.controlCoordinates.initialPointerOffsetY2)/2,t.controlCoordinates.initialPinchDistance=Math.sqrt((t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)*(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)+(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)*(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)));t.controlCoordinates.capture=!0}return!!t.controlCoordinates.mousedown||(t.transitionCapable&&(t.controlCoordinates.imageLeft=parseInt(t.domNodes.image.style.left,10)),t.controlCoordinates.mousedown=!0,t.controlCoordinates.swipeDiff=0,t.controlCoordinates.swipeYDiff=0,t.controlCoordinates.swipeStart=e.pageX||e.touches[0].pageX,t.controlCoordinates.swipeYStart=e.pageY||e.touches[0].pageY,!1)})),this.addEventListener(this.domNodes.image,["touchmove."+this.eventNamespace,"mousemove."+this.eventNamespace,"MSPointerMove"],(function(e){if(!t.controlCoordinates.mousedown)return!0;if("touchmove"===e.type){if(!1===t.controlCoordinates.capture)return!1;t.controlCoordinates.pointerOffsetX=e.touches[0].clientX,t.controlCoordinates.pointerOffsetY=e.touches[0].clientY,t.controlCoordinates.touchCount=e.touches.length,t.controlCoordinates.touchmoveCount++,t.controlCoordinates.touchCount>1?(t.controlCoordinates.pointerOffsetX2=e.touches[1].clientX,t.controlCoordinates.pointerOffsetY2=e.touches[1].clientY,t.controlCoordinates.targetPinchDistance=Math.sqrt((t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)*(t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)+(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)*(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)),null===t.controlCoordinates.initialPinchDistance&&(t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance),Math.abs(t.controlCoordinates.initialPinchDistance-t.controlCoordinates.targetPinchDistance)>=1&&(t.controlCoordinates.targetScale=t.minMax(t.controlCoordinates.targetPinchDistance/t.controlCoordinates.initialPinchDistance*t.controlCoordinates.initialScale,1,t.options.maxZoom),t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1&&(t.controlCoordinates.zoomed=!0,t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY)):(t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale))}if("mousemove"===e.type&&t.controlCoordinates.mousedown){if("touchmove"==e.type)return!0;if(e.preventDefault(),!1===t.controlCoordinates.capture)return!1;t.controlCoordinates.pointerOffsetX=e.clientX,t.controlCoordinates.pointerOffsetY=e.clientY,t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)}t.controlCoordinates.zoomed||(t.controlCoordinates.swipeEnd=e.pageX||e.touches[0].pageX,t.controlCoordinates.swipeYEnd=e.pageY||e.touches[0].pageY,t.controlCoordinates.swipeDiff=t.controlCoordinates.swipeStart-t.controlCoordinates.swipeEnd,t.controlCoordinates.swipeYDiff=t.controlCoordinates.swipeYStart-t.controlCoordinates.swipeYEnd,t.options.animationSlide&&t.slide(0,-t.controlCoordinates.swipeDiff+"px"))})),this.addEventListener(this.domNodes.image,["touchend."+this.eventNamespace,"mouseup."+this.eventNamespace,"touchcancel."+this.eventNamespace,"mouseleave."+this.eventNamespace,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],(function(e){if(t.isTouchDevice&&"touchend"===e.type&&(t.controlCoordinates.touchCount=e.touches.length,0===t.controlCoordinates.touchCount?(t.currentImage&&t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),1===t.controlCoordinates.initialScale&&(t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1):1===t.controlCoordinates.touchCount?(t.controlCoordinates.initialPointerOffsetX=e.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=e.touches[0].clientY):t.controlCoordinates.touchCount>1&&(t.controlCoordinates.initialPinchDistance=null)),t.controlCoordinates.mousedown){t.controlCoordinates.mousedown=!1;var o=!0;t.options.loop||(0===t.currentImageIndex&&t.controlCoordinates.swipeDiff<0&&(o=!1),t.currentImageIndex>=t.relatedElements.length-1&&t.controlCoordinates.swipeDiff>0&&(o=!1)),Math.abs(t.controlCoordinates.swipeDiff)>t.options.swipeTolerance&&o?t.loadImage(t.controlCoordinates.swipeDiff>0?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&Math.abs(t.controlCoordinates.swipeYDiff)>50&&Math.abs(t.controlCoordinates.swipeDiff)<t.options.swipeTolerance&&t.close()}})),this.addEventListener(this.domNodes.image,["dblclick"],(function(e){if(!t.isTouchDevice)return t.controlCoordinates.initialPointerOffsetX=e.clientX,t.controlCoordinates.initialPointerOffsetY=e.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout((function(){t.currentImage&&(t.currentImage.classList.remove("sl-transition"),t.currentImage.style[t.transitionPrefix+"transform-origin"]=null)}),200),t.controlCoordinates.capture=!0,!1}))}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),o=t.offsetHeight,n=t.offsetWidth,i=parseFloat(e.borderTopWidth);return{height:o-parseFloat(e.borderBottomWidth)-i-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom),width:n-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)}}},{key:"updateHash",value:function(){var t="pid="+(this.currentImageIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.hashReseted=!1,this.pushStateSupport?window.history[this.historyHasChanges?"replaceState":"pushState"]("",document.title,e):this.historyHasChanges?window.location.replace(e):window.location.hash=t,this.historyHasChanges||(this.urlChangedOnce=!0),this.historyHasChanges=!0}},{key:"resetHash",value:function(){this.hashReseted=!0,this.urlChangedOnce?history.back():this.pushStateSupport?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.historyUpdateTimeout)}},{key:"updateURL",value:function(){clearTimeout(this.historyUpdateTimeout),this.historyHasChanges?this.historyUpdateTimeout=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,e){var o=this;this.options.captions&&t&&""!==t&&void 0!==t&&(this.hide(this.domNodes.caption),this.domNodes.caption.style.width=e+"px",this.domNodes.caption.innerHTML=t,this.domNodes.image.appendChild(this.domNodes.caption),setTimeout((function(){o.fadeIn(o.domNodes.caption,o.options.fadeSpeed)}),this.options.captionDelay))}},{key:"slide",value:function(t,e){if(!this.transitionCapable)return this.domNodes.image.style.left=e;this.domNodes.image.style[this.transitionPrefix+"transform"]="translateX("+e+")",this.domNodes.image.style[this.transitionPrefix+"transition"]=this.transitionPrefix+"transform "+t+"s linear"}},{key:"getRelated",value:function(t){return t&&!1!==t&&"nofollow"!==t?Array.from(this.elements).filter((function(e){return e.getAttribute("rel")===t})):this.elements}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.eventNamespace)),this.options.disableScroll&&(this.globalScrollbarWidth=this.toggleScrollbar("hide")),this.options.htmlClass&&""!==this.options.htmlClass&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.domNodes.wrapper),this.domNodes.wrapper.appendChild(this.domNodes.image),this.options.overlay&&document.body.appendChild(this.domNodes.overlay),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(1==this.relatedElements.length&&this.domNodes.wrapper.contains(this.domNodes.counter)?this.domNodes.wrapper.removeChild(this.domNodes.counter):this.relatedElements.length>1&&!this.domNodes.wrapper.contains(this.domNodes.counter)&&this.domNodes.wrapper.appendChild(this.domNodes.counter)),this.isAnimating=!0,this.currentImageIndex=this.relatedElements.indexOf(t);var o=t.getAttribute(this.options.sourceAttr);this.currentImage=document.createElement("img"),this.currentImage.style.display="none",this.currentImage.setAttribute("src",o),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,-1===this.loadedImages.indexOf(o)&&this.loadedImages.push(o),this.domNodes.image.innerHTML="",this.domNodes.image.setAttribute("style",""),this.domNodes.image.appendChild(this.currentImage),this.fadeIn(this.domNodes.overlay,this.options.fadeSpeed),this.fadeIn([this.domNodes.counter,this.domNodes.navigation,this.domNodes.closeButton],this.options.fadeSpeed),this.show(this.domNodes.spinner),this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.domNodes.counter.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout((function(){t.dispatchEvent(new Event("shown."+e.eventNamespace))}),this.options.animationSpeed)}},{key:"forceFocus",value:function(){var t=this;this.removeEventListener(document,"focusin."+this.eventNamespace),this.addEventListener(document,"focusin."+this.eventNamespace,(function(e){document===e.target||t.domNodes.wrapper===e.target||t.domNodes.wrapper.contains(e.target)||t.domNodes.wrapper.focus()}))}},{key:"addEventListener",value:function(t,e,i,s){t=this.wrap(t),e=this.wrap(e);var r,a=n(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.namespaces||(c.namespaces={});var l,d=n(e);try{for(d.s();!(l=d.n()).done;){var u=l.value,f=s||!1;["touchstart","touchmove"].indexOf(u.split(".")[0])>=0&&this.isPassiveEventsSupported&&("object"===o(f)?f.passive=!0:f={passive:!0}),c.namespaces[u]=i,c.addEventListener(u.split(".")[0],i,f)}}catch(t){d.e(t)}finally{d.f()}}}catch(t){a.e(t)}finally{a.f()}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var o,i=n(t);try{for(i.s();!(o=i.n()).done;){var s,r=o.value,a=n(e);try{for(a.s();!(s=a.n()).done;){var c=s.value;r.namespaces&&r.namespaces[c]&&(r.removeEventListener(c.split(".")[0],r.namespaces[c]),delete r.namespaces[c])}}catch(t){a.e(t)}finally{a.f()}}}catch(t){i.e(t)}finally{i.f()}}},{key:"fadeOut",value:function(t,e,o){var i,s=this,r=n(t=this.wrap(t));try{for(r.s();!(i=r.n()).done;)i.value.style.opacity=1}catch(t){r.e(t)}finally{r.f()}this.isFadeIn=!1;var a=16.66666/(e||this.options.fadeSpeed);!function e(){var i=parseFloat(t[0].style.opacity);if((i-=a)<0){var r,c=n(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;l.style.display="none",l.style.opacity=1}}catch(t){c.e(t)}finally{c.f()}o&&o.call(s,t)}else{var d,u=n(t);try{for(u.s();!(d=u.n()).done;)d.value.style.opacity=i}catch(t){u.e(t)}finally{u.f()}requestAnimationFrame(e)}}()}},{key:"fadeIn",value:function(t,e,o,i){var s,r=this,a=n(t=this.wrap(t));try{for(a.s();!(s=a.n()).done;){var c=s.value;c.style.opacity=0,c.style.display=i||"block"}}catch(t){a.e(t)}finally{a.f()}this.isFadeIn=!0;var l=parseFloat(t[0].dataset.opacityTarget||1),d=16.66666*l/(e||this.options.fadeSpeed);!function e(){var i=parseFloat(t[0].style.opacity);if((i+=d)>l){var s,a=n(t);try{for(a.s();!(s=a.n()).done;)s.value.style.opacity=""}catch(t){a.e(t)}finally{a.f()}o&&o.call(r,t)}else{var c,u=n(t);try{for(u.s();!(c=u.n()).done;)c.value.style.opacity=i}catch(t){u.e(t)}finally{u.f()}if(!r.isFadeIn)return;requestAnimationFrame(e)}}()}},{key:"hide",value:function(t){var e,o=n(t=this.wrap(t));try{for(o.s();!(e=o.n()).done;){var i=e.value;"none"!=i.style.display&&(i.dataset.initialDisplay=i.style.display),i.style.display="none"}}catch(t){o.e(t)}finally{o.f()}}},{key:"show",value:function(t,e){var o,i=n(t=this.wrap(t));try{for(i.s();!(o=i.n()).done;){var s=o.value;s.style.display=s.dataset.initialDisplay||e||"block"}}catch(t){i.e(t)}finally{i.f()}}},{key:"wrap",value:function(t){return"function"==typeof t[Symbol.iterator]&&"string"!=typeof t?t:[t]}},{key:"on",value:function(t,e){t=this.wrap(t);var o,i=n(this.elements);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.fullyNamespacedEvents||(s.fullyNamespacedEvents={});var r,a=n(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;s.fullyNamespacedEvents[c]=e,s.addEventListener(c,e)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){i.e(t)}finally{i.f()}return this}},{key:"off",value:function(t){t=this.wrap(t);var e,o=n(this.elements);try{for(o.s();!(e=o.n()).done;){var i,s=e.value,r=n(t);try{for(r.s();!(i=r.n()).done;){var a=i.value;void 0!==s.fullyNamespacedEvents&&a in s.fullyNamespacedEvents&&s.removeEventListener(a,s.fullyNamespacedEvents[a])}}catch(t){r.e(t)}finally{r.f()}}}catch(t){o.e(t)}finally{o.f()}return this}},{key:"open",value:function(t){t=t||this.elements[0],"undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get(0)),this.initialImageIndex=this.elements.indexOf(t),this.initialImageIndex>-1&&this.openImage(t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"getLighboxData",value:function(){return{currentImageIndex:this.currentImageIndex,currentImage:this.currentImage,globalScrollbarWidth:this.globalScrollbarWidth}}},{key:"destroy",value:function(){this.off(["close."+this.eventNamespace,"closed."+this.eventNamespace,"nextImageLoaded."+this.eventNamespace,"prevImageLoaded."+this.eventNamespace,"change."+this.eventNamespace,"nextDone."+this.eventNamespace,"prevDone."+this.eventNamespace,"error."+this.eventNamespace,"changed."+this.eventNamespace,"next."+this.eventNamespace,"prev."+this.eventNamespace,"show."+this.eventNamespace,"shown."+this.eventNamespace]),this.removeEventListener(this.elements,"click."+this.eventNamespace),this.removeEventListener(document,"focusin."+this.eventNamespace),this.removeEventListener(document.body,"contextmenu."+this.eventNamespace),this.removeEventListener(document.body,"keyup."+this.eventNamespace),this.removeEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace),this.removeEventListener(this.domNodes.closeButton,"click."+this.eventNamespace),this.removeEventListener(window,"resize."+this.eventNamespace),this.removeEventListener(window,"hashchange."+this.eventNamespace),this.close(),this.isOpen&&(document.body.removeChild(this.domNodes.wrapper),document.body.removeChild(this.domNodes.overlay)),this.elements=null}},{key:"refresh",value:function(){if(!this.initialSelector)throw"refreshing only works when you initialize using a selector!";var t=this.options,e=this.initialSelector;return this.destroy(),this.constructor(e,t),this}}])&&s(e.prototype,i),a&&s(e,a),t}(),c=a;e.default=c,he.SimpleLightbox=a}(pe={exports:{}},pe.exports),pe.exports);new((me=ge)&&me.__esModule&&Object.prototype.hasOwnProperty.call(me,"default")?me.default:me)(".gallery__fancybox",{});
/**
   * Sticky Sidebar JavaScript Plugin.
   * @version 3.3.1
   * @author Ahmed Bouhuolia <a.bouhuolia@gmail.com>
   * @license The MIT License (MIT)
   */
const ve=(()=>{const t=".stickySidebar",e={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1};class o{constructor(t,n={}){if(this.options=o.extend(e,n),this.sidebar="string"==typeof t?document.querySelector(t):t,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this._resizeListeners=[],this.dimensions={translateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach((t=>{this[t]=this[t].bind(this)})),this.initialize()}initialize(){if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){let t=document.createElement("div");for(t.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(t);this.sidebar.firstChild!=t;)t.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){let t=document.querySelectorAll(this.options.containerSelector);if(t=Array.prototype.slice.call(t),t.forEach(((t,e)=>{t.contains(this.sidebar)&&(this.container=t)})),!t.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}bindEvents(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+t,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}handleEvent(t){this.updateSticky(t)}calcDimensions(){if(!this._breakpoint){var t=this.dimensions;t.containerTop=o.offsetRelative(this.container).top,t.containerHeight=this.container.clientHeight,t.containerBottom=t.containerTop+t.containerHeight,t.sidebarHeight=this.sidebarInner.offsetHeight,t.sidebarWidth=this.sidebar.offsetWidth,t.viewportHeight=window.innerHeight,this._calcDimensionsWithScroll()}}_calcDimensionsWithScroll(){var t=this.dimensions;t.sidebarLeft=o.offsetRelative(this.sidebar).left,t.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,t.viewportBottom=t.viewportTop+t.viewportHeight,t.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,t.topSpacing=this.options.topSpacing,t.bottomSpacing=this.options.bottomSpacing,"function"==typeof t.topSpacing&&(t.topSpacing=parseInt(t.topSpacing(this.sidebar))||0),"function"==typeof t.bottomSpacing&&(t.bottomSpacing=parseInt(t.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?t.topSpacing<t.lastTopSpacing&&(t.translateY+=t.lastTopSpacing-t.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&t.bottomSpacing<t.lastBottomSpacing&&(t.translateY+=t.lastBottomSpacing-t.bottomSpacing,this._reStyle=!0),t.lastTopSpacing=t.topSpacing,t.lastBottomSpacing=t.bottomSpacing}isSidebarFitsViewport(){return this.dimensions.sidebarHeight<this.dimensions.viewportHeight}observeScrollDir(){var t=this.dimensions;if(t.lastViewportTop!==t.viewportTop){var e="down"===this.direction?Math.min:Math.max;t.viewportTop===e(t.viewportTop,t.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}getAffixType(){var t=this.dimensions,e=!1;this._calcDimensionsWithScroll();var o=t.sidebarHeight+t.containerTop,n=t.viewportTop+t.topSpacing,i=t.viewportBottom-t.bottomSpacing;return"up"===this.direction?n<=t.containerTop?(t.translateY=0,e="STATIC"):n<=t.translateY+t.containerTop?(t.translateY=n-t.containerTop,e="VIEWPORT-TOP"):!this.isSidebarFitsViewport()&&t.containerTop<=n&&(e="VIEWPORT-UNBOTTOM"):this.isSidebarFitsViewport()?t.sidebarHeight+n>=t.containerBottom?(t.translateY=t.containerBottom-o,e="CONTAINER-BOTTOM"):n>=t.containerTop&&(t.translateY=n-t.containerTop,e="VIEWPORT-TOP"):t.containerBottom<=i?(t.translateY=t.containerBottom-o,e="CONTAINER-BOTTOM"):o+t.translateY<=i?(t.translateY=i-o,e="VIEWPORT-BOTTOM"):t.containerTop+t.translateY<=n&&(e="VIEWPORT-UNBOTTOM"),t.translateY=Math.max(0,t.translateY),t.translateY=Math.min(t.containerHeight,t.translateY),t.lastViewportTop=t.viewportTop,e}_getStyle(t){if(void 0!==t){var e={inner:{},outer:{}},n=this.dimensions;switch(t){case"VIEWPORT-TOP":e.inner={position:"fixed",top:n.topSpacing,left:n.sidebarLeft-n.viewportLeft,width:n.sidebarWidth};break;case"VIEWPORT-BOTTOM":e.inner={position:"fixed",top:"auto",left:n.sidebarLeft,bottom:n.bottomSpacing,width:n.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":let t=this._getTranslate(0,n.translateY+"px");e.inner=t?{transform:t}:{position:"absolute",top:n.translateY,width:n.sidebarWidth}}switch(t){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":e.outer={height:n.sidebarHeight,position:"relative"}}return e.outer=o.extend({height:"",position:""},e.outer),e.inner=o.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:this._getTranslate()},e.inner),e}}stickyPosition(e){if(!this._breakpoint){e=this._reStyle||e||!1,this.options.topSpacing,this.options.bottomSpacing;var n=this.getAffixType(),i=this._getStyle(n);if((this.affixedType!=n||e)&&n){let e="affix."+n.toLowerCase().replace("viewport-","")+t;o.eventTrigger(this.sidebar,e),"STATIC"===n?o.removeClass(this.sidebar,this.options.stickyClass):o.addClass(this.sidebar,this.options.stickyClass);for(let t in i.outer)i.outer[t],this.sidebar.style[t]=i.outer[t];for(let t in i.inner){let e="number"==typeof i.inner[t]?"px":"";this.sidebarInner.style[t]=i.inner[t]+e}let s="affixed."+n.toLowerCase().replace("viewport-","")+t;o.eventTrigger(this.sidebar,s)}else this._initialized&&(this.sidebarInner.style.left=i.inner.left);this.affixedType=n}}_widthBreakpoint(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),o.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}updateSticky(t={}){this._running||(this._running=!0,(t=>{requestAnimationFrame((()=>{switch(t){case"scroll":this._calcDimensionsWithScroll(),this.observeScrollDir(),this.stickyPosition();break;case"resize":default:this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(!0)}this._running=!1}))})(t.type))}_setSupportFeatures(){var t=this.support;t.transform=o.supportTransform(),t.transform3d=o.supportTransform(!0)}_getTranslate(t=0,e=0,o=0){return this.support.transform3d?"translate3d("+t+", "+e+", "+o+")":!!this.support.translate&&"translate("+t+", "+e+")"}destroy(){window.removeEventListener("resize",this,{caption:!1}),window.removeEventListener("scroll",this,{caption:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+t,this);var e={inner:{},outer:{}};e.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},e.outer={height:"",position:""};for(let t in e.outer)this.sidebar.style[t]=e.outer[t];for(let t in e.inner)this.sidebarInner.style[t]=e.inner[t];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}static supportTransform(t){var e=!1,o=t?"perspective":"transform",n=o.charAt(0).toUpperCase()+o.slice(1),i=document.createElement("support").style;return(o+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ").forEach((function(t,o){if(void 0!==i[t])return e=t,!1})),e}static eventTrigger(t,e,o){try{var n=new CustomEvent(e,{detail:o})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,o)}t.dispatchEvent(n)}static extend(t,e){var o={};for(let n in t)void 0!==e[n]?o[n]=e[n]:o[n]=t[n];return o}static offsetRelative(t){var e={left:0,top:0};do{let o=t.offsetTop,n=t.offsetLeft;isNaN(o)||(e.top+=o),isNaN(n)||(e.left+=n),t="BODY"===t.tagName?t.parentElement:t.offsetParent}while(t);return e}static addClass(t,e){o.hasClass(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)}static removeClass(t,e){o.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}}return o})();window.StickySidebar=ve,document.querySelector(".sidebar")&&new ve(".sidebar",{containerSelector:".layout",innerWrapperSelector:".sidebar__inner",topSpacing:30,bottomSpacing:20})}();
//# sourceMappingURL=scripts.min.js.map
